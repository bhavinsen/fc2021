<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- Primary Meta Tags -->
  <title>
    First Cotton Dashboard - {% block title %}{% endblock %}
  </title>
  <style>
    body {
      font: 90%/1.45em "Helvetica Neue", HelveticaNeue, Verdana, Arial, Helvetica, sans-serif;
      margin: 0;
      padding: 0;
      color: #333;
      background-color: #fff;
    }
    .group{
      background-color:  #EE5050 !important;
    }
    .bg-dark{
      background-color: #040e33 !important;
    }
  </style>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="title" content="Volt - Free Bootstrap 5 Dashboard">
  <meta name="author" content="Themesberg">
  <meta name="description"
    content="Volt Pro is a Premium Bootstrap 5 Admin Dashboard featuring over 800 components, 10+ plugins and 20 example pages using Vanilla JS.">
  <meta name="keywords"
    content="bootstrap 5, bootstrap, bootstrap 5 admin dashboard, bootstrap 5 dashboard, bootstrap 5 charts, bootstrap 5 calendar, bootstrap 5 datepicker, bootstrap 5 tables, bootstrap 5 datatable, vanilla js datatable, themesberg, themesberg dashboard, themesberg admin dashboard" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">

  <meta property="og:url" content="https://demo.themesberg.com/volt-pro">
  <meta property="og:title" content="Volt - Free Bootstrap 5 Dashboard">
  <meta property="og:description"
    content="Volt Pro is a Premium Bootstrap 5 Admin Dashboard featuring over 800 components, 10+ plugins and 20 example pages using Vanilla JS.">
  <meta property="og:image"
    content="https://themesberg.s3.us-east-2.amazonaws.com/public/products/volt-pro-bootstrap-5-dashboard/volt-pro-preview.jpg">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://demo.themesberg.com/volt-pro">
  <meta property="twitter:title" content="Volt - Free Bootstrap 5 Dashboard">
  <meta property="twitter:description"
    content="Volt Pro is a Premium Bootstrap 5 Admin Dashboard featuring over 800 components, 10+ plugins and 20 example pages using Vanilla JS.">
  <meta property="twitter:image"
    content="https://themesberg.s3.us-east-2.amazonaws.com/public/products/volt-pro-bootstrap-5-dashboard/volt-pro-preview.jpg">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <link rel="apple-touch-icon" sizes="120x120" href="{% static 'assets/img/favicon/apple-touch-icon.png' %}">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'assets/img/favicon/favicon-32x32.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'assets/img/favicon/favicon-16x16.png' %}">
  <link rel="manifest" href="{% static 'assets/img/favicon/site.webmanifest' %}">
  <link rel="mask-icon" href="{% static 'assets/img/favicon/safari-pinned-tab.svg' %}" color="#ffffff">
  <link rel="canonical" href="https://appseed.us/admin-dashboards/django-dashboard-volt">
  <!-- Favicon -->
  {% block stylesheets %}
  {% endblock stylesheets %}
  <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" type="text/css">
  
  <link href="https://cdn.datatables.net/rowgroup/1.0.2/css/rowGroup.dataTables.min.css" rel="stylesheet"
  type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
  
  <link href="https://nightly.datatables.net/css/jquery.dataTables.css" rel="stylesheet" type="text/css" />
  
  
  
  <link type="text/css" href="{% static 'assets/vendor/@fortawesome/fontawesome-free/css/all.min.css' %}"
  rel="stylesheet">
  <!-- Sweet Alert -->
  <link type="text/css" href="{% static 'assets/vendor/sweetalert2/dist/sweetalert2.min.css' %}" rel="stylesheet">

  <!-- Notyf -->
  <link type="text/css" href="{% static 'assets/vendor/notyf/notyf.min.css' %}" rel="stylesheet">
  
  <!-- Volt CSS -->
  <link type="text/css" href="{% static 'assets/css/volt.css' %}" rel="stylesheet">
  <script src="{% static 'assets/vendor/vanillajs-datepicker/dist/js/datepicker.min.js' %}"></script>
  <style>
    
  </style>

</head>

<body>
  
  <nav class="navbar navbar-dark navbar-theme-primary px-4 col-12 d-md-none">
    <a class="navbar-brand me-lg-5" href="/">
      <img class="navbar-brand-dark" src="{% static 'assets/img/brand/light.svg' %}" alt="First cotton" /> <img
        class="navbar-brand-light" src="{% static 'assets/img/brand/dark.svg' %}" alt="First cotton" />
    </a>
    <div class="d-flex align-items-center">
      <button class="navbar-toggler d-md-none collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav>

  {% include 'includes/sidebar.html' %}

  <main class="content">

    {% include 'includes/navigation.html' %}

    {% block content %}{% endblock content %}

    {% include 'includes/settings-box.html' %}

    {% include 'includes/footer.html' %}

  </main>
  {% include 'includes/scripts.html' %}
  {% block javascripts %}
  {% endblock javascripts %}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script src="https://code.jquery.com/jquery-1.11.3.min.js"
    integrity="sha256-7LkWEzqTdpEfELxcZZlS6wAx5Ff13zZ83lYO2/ujj7g=" crossorigin="anonymous"></script>



  <script src="https://nightly.datatables.net/js/jquery.dataTables.js"></script>

  <script src="https://cdn.datatables.net/rowgroup/1.0.2/js/dataTables.rowGroup.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" type="text/javascript"></script>
  <script src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.min.js" type="text/javascript"></script>
  <script>
    // $(document).ready(function(){
    // // $("#id_username").addClass("form-control");
    // $("#id_username").attr("class", "form-control");
    // // $("#id_username").toggleClass("form-control");
    // });
    var table;
    var selectStatesInputEl = d.querySelector('#states');
    console.log("ðŸš€ ~ file: base.html ~ line 131 ~ selectStatesInputEl", selectStatesInputEl)
    if (selectStatesInputEl) {
      const choices = new Choices(selectStatesInputEl);
    }
   
    $(document).ready(function () {
      var collapsedGroups = {};

      var table = $('#secondtable').DataTable({
        dom: 'lr<"tb-filter-container">tip',
        order: [[1, 'asc']],
        rowGroup: {
          // Uses the 'row group' plugin
          dataSrc: 1,

          startRender: function (rows, group) {
            var collapsed = !!collapsedGroups[group];

            rows.nodes().each(function (r) {
              r.style.display = collapsed ? 'none' : '';
            });

            // Add category name to the <tr>. NOTE: Hardcoded colspan
            return $('<tr/>')
              .append('<td colspan="7" class="h4" style="background-color: #ffdd99;" >Lot ID : ' + group + ' Total Bales ' + ": " + rows.count() + '</td>')
              .attr('data-name', group)
              .toggleClass('collapsed', collapsed);
          }
        },
        initComplete: function (settings) {
          var api = new $.fn.dataTable.Api(settings);
          $('.tb-filter-container', api.table().container()).append(
            $('#tb-filter').detach().show()
          );

          $('#tb-filter select').on('change', function () {
            table
              .columns(6)
              .search(this.value ? "^" + this.value + "$" : '', true, false)
              .draw();
          });
        },
      });

      $('#secondtable tbody').on('click', 'tr.group-start', function () {
        var name = $(this).data('name');
        collapsedGroups[name] = !collapsedGroups[name];
        table.draw(false);
      });

    });
    // ----------------------------------------------------------------------------------------
    $("#testmodel").hide()
    $("#clearSearch").hide()
    $(document).ready(function () {
      // Setup - add a text input to each footer cell
      $.ajax({
            url:"http://127.0.0.1:8000/searchbalesdata",
            async: true,
            crossDomain: true,
            type: "GET",
            processData: false,
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            success: function (response) {
              console.log("ðŸš€ ~ file: base.html ~ line 269 ~ response", response)
              // for(var i = 0; i < response[0].length; i++) {
              //   $('#tbody').append('<tr><td>' + response[0][i]['id'] + '</td><td>' + response[0][i]['first_name'] + " " + response[0][i]['last_name'] + '</td><td>' + response[0][i]['table'] + '</td><td>' + response[0][i]['items_won'] + '</td><td>' + response[0][i]['pledges_made'] +'</td><td>' + response[0][i]['amount_owed'] + '</td><td><button class="btn btn-primary">CLICK HERE</button></td></tr>');
              // }
                $(document).ready(function () {
                      var users = response
                      console.log("ðŸš€ ~ file: base.html ~ line 307 ~ users", users)
                      users.forEach((item) => {
                        $("#tbody").append(`<tr>
                                      <td class="border-0">${item.Station}</td>
                                      <td class="border-0">${item.Bale_ID}</td>
                                      <td class="border-0">${item.Available_For_Sale}</td>
                                      <td class="border-0">${item.Staple_length}</td>
                                      <td class="border-0">${item.Micronaire}</td>
                                      <td class="border-0">${item.Rd}</td>
                                      <td class="border-0">${item.Organic}</td>
                                      <td class="border-0">${item.BCI}</td>
                                      </tr>`);
                          });
                });
                    var collapsedGroups = {};
                    table = $('#datatable').DataTable({
                      rowGroup: {
                        // Uses the 'row group' plugin
                        dataSrc: 0,

                        startRender: function (rows, group) {
                          var collapsed = !!collapsedGroups[group];

                          rows.nodes().each(function (r) {
                            r.style.display = collapsed ? 'none' : '';
                          });

                          // Add category name to the <tr>. NOTE: Hardcoded colspan
                          return $('<tr/>')
                            .append('<td colspan="13"class="h4" style="background-color: #ffdd99;" > Station ' + ": " + group + ' Total Bales ' + ": " + rows.count() + '</td>')
                            .attr('data-name', group)
                            .toggleClass('collapsed', collapsed);
                        }
                      },
                      initComplete: function () {
                        // Apply the search
                        this.api().columns().every(function () {
                          var that = this;

                          $('input', this.footer()).on('keyup change clear', function () {
                            if (that.search() !== this.value) {
                              that
                                .search(this.value)
                                .draw();
                            }
                          });
                        });
                      }
                    });
                    $('#datatable tbody').on('click', 'tr.group-start', function () {
                      var name = $(this).data('name');
                      collapsedGroups[name] = !collapsedGroups[name];
                      table.draw(false);
                    });
              
                    $('#datatable tfoot th').each(function () {
                      var title = $(this).text();
                      $(this).html('<input type="text" placeholder="Search ' + title + '" />');
                    });
              }
            });

      

    });

    // $(document).ready(function () {
    //   var collapsedGroups = {};

    //   var table = $('#newtable').DataTable({
    //     dom: 'lr<"table-filter-container">tip',
    //     order: [[1, 'asc']],
    //     rowGroup: {
    //       // Uses the 'row group' plugin
    //       dataSrc: 1,

    //       startRender: function (rows, group) {
    //         var collapsed = !!collapsedGroups[group];

    //         rows.nodes().each(function (r) {
    //           r.style.display = collapsed ? 'none' : '';
    //         });

    //         // Add category name to the <tr>. NOTE: Hardcoded colspan
    //         return $('<tr/>')
    //           .append('<td colspan="12" style="text-align: center;"> Lot ID  ' + ": " + group + ' Total Bales ' + ": " + rows.count() + '</td>')
    //           .attr('data-name', group)
    //           .toggleClass('collapsed', collapsed);
    //       }
    //     },
    //     initComplete: function (settings) {
    //       var api = new $.fn.dataTable.Api(settings);
    //       $('.table-filter-container', api.table().container()).append(
    //         $('#table-filter').detach().show()
    //       );

    //       $('#table-filter select').on('change', function () {
    //         table.search(this.value).draw();
    //       });
    //     }
    //   });

    //   $('#newtable tbody').on('click', 'tr.group-start', function () {
    //     var name = $(this).data('name');
    //     collapsedGroups[name] = !collapsedGroups[name];
    //     table.draw(false);
    //   });

    // });
    $("#datasearch").click(function(){
      $("#newmodel").hide()
      $("#testmodel").show()
      $("#testbody").html("")
      $("#clearSearch").show()
      // $("#newmodel").show()
        console.log("ðŸš€ ~ file: base.html ~ line 252 ~ $ ~ datasearch")
        // alert("The paragraph was clicked.");
      var data = {};
      var BaleID = $("#Bale_ID").val();
      var Station = $("#Station").val();
      var StapleRange = $("#Staple_Range").val();
      var Micronaire = $("#Micronaire").val();
      console.log("ðŸš€ ~ file: base.html ~ line 259 ~ $ ~ Micronaire", Micronaire)
      data['BaleID'] = BaleID;
      data['Station'] = Station;
      data['StapleRange'] = StapleRange;
      data['Micronaire'] = Micronaire;
      $(document).ready(function () {
                $.ajax({
                    url:"http://127.0.0.1:8000/searchbales",
                    async: true,
                    crossDomain: true,
                    type: "POST",
                    data: JSON.stringify(data),
                    processData: false,
                    dataType: "json",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {
                      console.log("ðŸš€ ~ file: base.html ~ line 269 ~ response", response)
                      for(var i = 0; i < response[0].length; i++) {
                        $('#tbody').append('<tr><td>' + response[0][i]['id'] + '</td><td>' + response[0][i]['first_name'] + " " + response[0][i]['last_name'] + '</td><td>' + response[0][i]['table'] + '</td><td>' + response[0][i]['items_won'] + '</td><td>' + response[0][i]['pledges_made'] +'</td><td>' + response[0][i]['amount_owed'] + '</td><td><button class="btn btn-primary">CLICK HERE</button></td></tr>');
                      }
                        $(document).ready(function () {
                          var collapsedGroups = {};
                              var users = response
                              console.log("ðŸš€ ~ file: base.html ~ line 307 ~ users", users)
                              users.forEach((item) => {
                                $("#testbody").append(`<tr>
                                              <td class="border-0">${item.Station}</td>
                                              <td class="border-0">${item.Bale_ID}</td>
                                              <td class="border-0">${item.Available_For_Sale}</td>
                                              <td class="border-0">${item.Staple_length}</td>
                                              <td class="border-0">${item.Micronaire}</td>
                                              <td class="border-0">${item.Rd}</td>
                                              <td class="border-0">${item.Organic}</td>
                                              <td class="border-0">${item.BCI}</td>
                                              </tr>`);
                              
                              });
                              var testtable = $("#testtable").DataTable()
                              // var table = $("#datatable").DataTable({
                              //   "bPaginate": false,
                              //   "bLengthChange": false,
                              //   "bFilter": true,
                              //   "bInfo": false,
                              //   "bAutoWidth": false,
                                // data:users,
                              //   'columns': [
                              //       { 
                              //           "data": "Station",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //                   return data;
                                            
                              //           }
                              //       },
                              //       { 
                              //           "data": "Bale_ID",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //           return data;
                                            
                              //           }
                              //       },
                              //       { 
                              //           "data": "Available_For_Sale",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //           return data;
                              //           }
                              //       },
                              //       { 
                              //           "data": "Staple_length",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //           return data;
                              //           }
                              //       },
                              //       { 
                              //           "data": "Micronaire",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //           return data;
                              //           }
                              //       },
                              //       { 
                              //           "data": "Organic",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //           return data;
                              //           }
                              //       },
                              //       { 
                              //           "data": "BCI",                   
                              //           "render": function ( data, type, row ) {
                              //           console.log("ðŸš€ ~ file: base.html ~ line 327 ~ data", data)
                              //           return data;
                              //           }
                              //       },
                              // ],
                              //   rowGroup: {
                              //   // Uses the 'row group' plugin
                              //     dataSrc: 0,

                              //     startRender: function (rows, group) {
                              //       var collapsed = !!collapsedGroups[group];

                              //       rows.nodes().each(function (r) {
                              //         r.style.display = collapsed ? 'none' : '';
                              //       });

                              //       // Add category name to the <tr>. NOTE: Hardcoded colspan
                              //       return $('<tr/>')
                              //         .append('<td colspan="13" style="text-align: center;"> Station ' + ": " + group + ' Total Bales ' + ": " + rows.count() + '</td>')
                              //         .attr('data-name', group)
                              //         .toggleClass('collapsed', collapsed);
                              //     }
                              // },
                              // });

                              // $('#getDetails').on('click', function() {
                              //     stored = $('#datatable').DataTable().searchBuilder.getDetails();
                              //     $('#output').text(JSON.stringify(stored, null, '\t'));
                              // })
                          
                              // $('#revert').on('click', function() {
                              //     $('#datatable').DataTable().searchBuilder.rebuild(stored);
                              // })
                              // $('#datatable tbody').on('click', 'tr.group-start', function () {
                              //   var name = $(this).data('name');
                              //   collapsedGroups[name] = !collapsedGroups[name];
                              //   table.draw(false);
                              // });
              
                      });
                    },
                    error: function (err) {
                      console.log("ðŸš€  file: gps_session.html  line 75 ~ err", err);
                    },
                  });
                  $.fn.dataTable.ext.errMode = 'none';
                });
              });
              // $(document).ready(function () {
              //   var saled = $("#sale").val()
              //   console.log("ðŸš€ ~ file: base.html ~ line 419 ~ saled", saled)
              // });
              $('.a').each(function(index){
                  console.log("ðŸš€ ~ file: base.html ~ line 422 ~ $ ~ index", $(this).context.id)
                  var values =  $("#"+ $(this).context.id).val()
                  console.log("ðŸš€ ~ file: base.html ~ line 424 ~ $ ~ values", values)
                  if (values=="True"){
                    $("#" + $(this).context.id).attr("checked","checked")
                  }
                  // console.log($(this));
            });
            $(".a").click(function(){
              var values =  $("#"+ $(this).context.id).val()
                  console.log("ðŸš€ ~ file: base.html ~ line 424 ~ $ ~ values", values)
                  if (values=="True"){
                    $("#" + $(this).context.id).attr("value","False")
                  }else{
                    $("#" + $(this).context.id).attr("value","True")
                  }
                  
                    var avForSale = {};
                    avForSale['id'] = $(this).context.id
                    console.log("ðŸš€ ~ file: base.html ~ line 441 ~ $(this).context.id", $(this).context.id)
                    avForSale['value'] = values
                    console.log("ðŸš€ ~ file: base.html ~ line 442 ~ avForSale", avForSale)
                $.ajax({
                    url:"http://127.0.0.1:8000/available_for_sale",
                    async: true,
                    crossDomain: true,
                    type: "POST",
                    data: JSON.stringify(avForSale),
                    processData: false,
                    dataType: "json",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {
                      console.log("ðŸš€ ~ file: base.html ~ line 269 ~ response", response)
                    },
                    error: function (err) {
                      console.log("ðŸš€  file: gps_session.html  line 75 ~ err", err);
                    },
                  });
           
          });
       
          
        $(document).ready(function () {
            var collapsedGroups = {};

            var table = $('#auction_my_table').DataTable({
              dom: 'lr<"tb-filter-container">tip',
              order: [[2, 'asc']],
              rowGroup: {
                // Uses the 'row group' plugin
                dataSrc: 2,

                startRender: function (rows, group) {
                  var collapsed = !!collapsedGroups[group];

                  rows.nodes().each(function (r) {
                    r.style.display = collapsed ? 'none' : '';
                  });

                  // Add category name to the <tr>. NOTE: Hardcoded colspan
                  return $('<tr/>')
                    .append('<td colspan="9" class="h4" style="background-color: #ffdd99;" >Lot ID : ' + group + ' Total Bales ' + ": " + rows.count() + '</td>')
                    .attr('data-name', group)
                    .toggleClass('collapsed', collapsed);
                }
              },
              initComplete: function (settings) {
                var api = new $.fn.dataTable.Api(settings);
                $('.tb-filter-container', api.table().container()).append(
                  $('#tb-filter').detach().show()
                );

                $('#tb-filter select').on('change', function () {
                  table
                    .columns(6)
                    .search(this.value ? "^" + this.value + "$" : '', true, false)
                    .draw();
                });
              },
            });

            $('#auction_my_table tbody').on('click', 'tr.group-start', function () {
              var name = $(this).data('name');
              collapsedGroups[name] = !collapsedGroups[name];
              table.draw(false);
            });

      });
      $(document).ready(function() {
            $("#auccheckbox").click(function() {
            console.log("ðŸš€ ~ file: base.html ~ line 475 ~ $ ~ auccheckbox")
            });
        });
      $(document).ready(function() {
            $("#auction").click(function() {
            console.log("ðŸš€ ~ file: base.html ~ line 475 ~ $ ~ auction")
            });
        });
        $(".b").click(function(){
              var values =  $("#"+ $(this).context.id).val()
                  console.log("ðŸš€ ~ file: base.html ~ line 424 ~ $ ~ values", values)
                  if (values=="True"){
                    $("#" + $(this).context.id).attr("value","False")
                  }else{
                    $("#" + $(this).context.id).attr("value","True")
                  }
                  
                    var avForSale = {};
                    avForSale['id'] = $(this).context.id
                    console.log("ðŸš€ ~ file: base.html ~ line 441 ~ $(this).context.id", $(this).context.id)
                    avForSale['value'] = values
                    console.log("ðŸš€ ~ file: base.html ~ line 442 ~ avForSale", avForSale)
                $.ajax({
                    // url:"http://127.0.0.1:8000/available_for_sale",
                    async: true,
                    crossDomain: true,
                    type: "POST",
                    data: JSON.stringify(avForSale),
                    processData: false,
                    dataType: "json",
                    contentType: "application/json; charset=utf-8",
                    success: function (response) {
                      console.log("ðŸš€ ~ file: base.html ~ line 269 ~ response", response)
                    },
                    error: function (err) {
                      console.log("ðŸš€  file: gps_session.html  line 75 ~ err", err);
                    },
                  });
           
          });
          $("#clearSearch").click(function(){
            window.location.reload()
          });
  </script>
 
</body>

</html>